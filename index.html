<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Price of Living: A Visual Journey Through Inflation</title>
    <link rel="stylesheet" href="css/styles.css">

    <!--
        D3.js v7 - Data-Driven Documents
        Purpose: JavaScript library for creating interactive data visualizations in the browser
        Global object: d3
        Methods used: d3.csv(), d3.select(), d3.scaleLinear(), d3.line(), d3.axisBottom(),
                     d3.geoMercator(), d3.geoPath(), d3.scaleSequential(), d3.schemeTableau10
        Source: https://d3js.org/
    -->
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <!--
        TopoJSON v3 - Topology encoding library
        Purpose: Extension of GeoJSON for encoding topology, used for efficient map geometries
        Global object: topojson
        Methods used: topojson.feature()
        Source: https://github.com/topojson/topojson
    -->
    <script src="https://unpkg.com/topojson@3"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="nav-title">The Price of Living</h1>
            <ul class="nav-menu">
                <li><a href="#introduction">Introdu√ß√£o</a></li>
                <li><a href="#data">Dados</a></li>
                <li><a href="#visualizations">Visualiza√ß√µes</a></li>
                <li><a href="#conclusions">Conclus√µes</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <h1>The Price of Living</h1>
            <p>Uma Jornada Visual Atrav√©s da Infla√ß√£o em Portugal</p>
        </div>
    </header>

    <!-- Introduction Section -->
    <section id="introduction" class="section">
        <div class="container">
            <h2>Introdu√ß√£o</h2>
            <p>
                A infla√ß√£o voltou a estar no centro do debate p√∫blico nos √∫ltimos anos, 
                com impacto direto no custo de vida das fam√≠lias portuguesas. O aumento 
                dos pre√ßos da energia, da alimenta√ß√£o e da habita√ß√£o tem sido sentido por 
                todos, mas afeta de forma particular os grupos mais vulner√°veis.
            </p>
            <p>
                O nosso objetivo √© analisar de que forma a infla√ß√£o em Portugal afeta 
                diferentes dimens√µes do dia a dia: pre√ßos, sal√°rios, habita√ß√£o e desigualdade social.
            </p>
            
            <div class="questions-box">
                <h3>Quest√µes Principais</h3>
                <ul>
                    <li>Quanto aumentou a infla√ß√£o em Portugal no total e em cada categoria de bens e servi√ßos?</li>
                    <li>Os sal√°rios acompanharam a subida de pre√ßos ou houve perda de poder de compra?</li>
                    <li>Como Portugal se compara com a Uni√£o Europeia?</li>
                    <li>A infla√ß√£o afetou a distribui√ß√£o do rendimento e os 40% mais pobres?</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Data Section -->
    <section id="data" class="section section-alt">
        <div class="container">
            <h2>Dados</h2>
            <p>
                Para a nossa an√°lise recorremos a dados da <strong>Pordata</strong>, 
                que compila estat√≠sticas oficiais do INE e do Eurostat.
            </p>
            
            <div class="data-sources">
                <div class="data-card">
                    <h3>üìä √çndice de Pre√ßos no Consumidor (IPC)</h3>
                    <p>Mostra como os pre√ßos evoluem em diferentes categorias, como alimenta√ß√£o ou transportes.</p>
                </div>

                <div class="data-card">
                    <h3>üí∞ Sal√°rio M√≠nimo Nacional</h3>
                    <p>Permite avaliar se os rendimentos acompanharam a subida dos pre√ßos.</p>
                </div>

                <div class="data-card">
                    <h3>üá™üá∫ √çndice Harmonizado de Pre√ßos (HICP)</h3>
                    <p>Garante comparabilidade com a m√©dia da Uni√£o Europeia.</p>
                </div>

                <div class="data-card">
                    <h3>üìà Quota de Rendimento dos 40% Mais Pobres</h3>
                    <p>Mostra como √© distribu√≠do o rendimento em Portugal.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Visualizations Section -->
    <section id="visualizations" class="section">
        <div class="container">
            <h2>Visualiza√ß√µes</h2>
            <p>Explore os dados de forma interativa atrav√©s das visualiza√ß√µes abaixo.</p>
            
            <!-- Visualization 1: Inflation by Category -->
            <div class="visualization-container">
                <h3>Taxa de Infla√ß√£o por Bens e Servi√ßos</h3>
                <p class="viz-description">
                    Evolu√ß√£o da taxa de infla√ß√£o em Portugal por diferentes categorias de bens e servi√ßos desde 1960.
                </p>
                <p class="viz-source">
                    <strong>Fonte:</strong> <a href="https://www.pordata.pt/pt/estatisticas/inflacao/taxa-de-inflacao/taxa-de-inflacao-por-bens-e-servicos-portugal" target="_blank" rel="noopener noreferrer">Pordata - Taxa de Infla√ß√£o por Bens e Servi√ßos (Portugal)</a>
                </p>

                <!-- Visualization Mode Buttons -->
                <div class="viz-controls">
                    <button id="btn-timeline-view" class="viz-button active">Ao longo dos anos</button>
                    <button id="btn-radar-view" class="viz-button">Por categoria</button>
                </div>

                <!-- Category filter for line chart -->
                <div id="category-filter-container" class="category-filter-section" style="display: block;"></div>

                <!-- Year selection for radar chart -->
                <div id="year-selection-container" class="year-selection" style="display: none;">
                    <h4>Selecione os anos para comparar:</h4>
                    <div id="year-checkboxes" class="year-checkboxes"></div>
                </div>

                <div id="viz-inflation-categories" class="viz-canvas"></div>
            </div>

            <!-- Visualization 2: Bullet Graph - Wage Analysis -->
            <div class="visualization-container">
                <h3>An√°lise do Poder de Compra do Sal√°rio M√≠nimo</h3>
                <p class="viz-description">
                    Compara√ß√£o entre o sal√°rio m√≠nimo nominal e o sal√°rio real (ajustado pela infla√ß√£o) face ao ano base de 2012.
                </p>
                <p class="viz-source">
                    <strong>Fontes:</strong> <a href="https://www.pordata.pt/pt/estatisticas/salarios-e-pensoes/salarios/salario-minimo-nacional" target="_blank" rel="noopener noreferrer">Pordata - Sal√°rio M√≠nimo Nacional</a> | <a href="https://www.pordata.pt/pt/estatisticas/inflacao/taxa-de-inflacao/taxa-de-inflacao-por-bens-e-servicos-portugal" target="_blank" rel="noopener noreferrer">Taxa de Infla√ß√£o</a>
                </p>

                <!-- Year selector for bullet graph -->
                <div class="bullet-controls">
                    <label for="year-select">Selecione o ano:</label>
                    <div id="bullet-year-selector"></div>
                </div>

                <div id="viz-bullet-graph" class="viz-canvas"></div>
            </div>

            <!-- Visualization 3: Choropleth Map - Europe HICP -->
            <div class="visualization-container">
                <h3>√çndice Harmonizado de Pre√ßos no Consumidor (HICP) - Europa</h3>
                <p class="viz-description">
                    Compara√ß√£o da infla√ß√£o entre pa√≠ses europeus. Passe o rato sobre cada pa√≠s para ver os detalhes.
                </p>
                <p class="viz-source">
                    <strong>Fonte:</strong> <a href="https://www.pordata.pt/pt/estatisticas/inflacao/taxa-de-inflacao/taxa-de-inflacao-por-bens-e-servicos-portugal-na-europa" target="_blank" rel="noopener noreferrer">Pordata - Taxa de Infla√ß√£o por Bens e Servi√ßos (Portugal na Europa)</a>
                </p>

                <!-- Map controls -->
                <div class="map-controls">
                    <div class="map-control-group">
                        <label for="map-year-select">Ano:</label>
                        <select id="map-year-select" class="map-select"></select>
                    </div>
                    <div class="map-control-group">
                        <label for="map-category-select">Categoria:</label>
                        <select id="map-category-select" class="map-select"></select>
                    </div>
                </div>

                <div id="viz-choropleth-map" class="viz-canvas"></div>
            </div>

            <!-- Visualization 4: Scatter Plot - Income vs Inflation -->
            <div class="visualization-container">
                <h3>Infla√ß√£o e Rendimento dos 40% Mais Pobres</h3>
                <p class="viz-description">
                    An√°lise da rela√ß√£o entre a infla√ß√£o e a distribui√ß√£o de rendimento em Portugal (2000-2024).
                </p>
                <p class="viz-source">
                    <strong>Fontes:</strong> <a href="https://www.pordata.pt/pt/estatisticas/pobreza/desigualdade-na-distribuicao-dos-rendimentos/rendimento-dos-40-mais-pobres-da" target="_blank" rel="noopener noreferrer">Pordata - Rendimento dos 40% Mais Pobres</a> | <a href="https://www.pordata.pt/pt/estatisticas/inflacao/taxa-de-inflacao/taxa-de-inflacao-por-bens-e-servicos-portugal" target="_blank" rel="noopener noreferrer">Taxa de Infla√ß√£o</a>
                </p>

                <!-- Scatter view buttons -->
                <div class="viz-controls">
                    <button id="btn-scatter-variation" class="viz-button active">Varia√ß√£o da Infla√ß√£o</button>
                    <button id="btn-scatter-timeline" class="viz-button">Evolu√ß√£o Temporal</button>
                </div>

                <!-- Dynamic descriptions for each view -->
                <div id="scatter-description" class="viz-interpretation">
                    <p id="scatter-variation-desc" style="display: block;">
                        <strong>Varia√ß√£o da Infla√ß√£o:</strong> Este gr√°fico mostra a correla√ß√£o entre o rendimento
                        dos 40% mais pobres e a varia√ß√£o anual da taxa de infla√ß√£o. Cada ponto representa um ano
                        diferente. Valores positivos de infla√ß√£o indicam aumento de pre√ßos. Observe como per√≠odos
                        de alta infla√ß√£o (ex: 2022-2024) se relacionam com a quota de rendimento dos mais vulner√°veis.
                        Uma tend√™ncia descendente sugere que infla√ß√£o elevada tende a reduzir a participa√ß√£o no
                        rendimento nacional dos mais pobres.
                    </p>
                    <p id="scatter-timeline-desc" style="display: none;">
                        <strong>Evolu√ß√£o Temporal:</strong> Este gr√°fico apresenta a trajet√≥ria ao longo do tempo
                        das duas vari√°veis. O eixo horizontal mostra a progress√£o cronol√≥gica (2000-2024), enquanto
                        o eixo vertical duplo permite comparar simultaneamente a quota de rendimento dos 40% mais
                        pobres (pontos azuis) e a taxa de infla√ß√£o (pontos vermelhos). Per√≠odos de infla√ß√£o elevada
                        tornam-se vis√≠veis como picos na s√©rie vermelha, permitindo identificar como a distribui√ß√£o
                        de rendimento reagiu a esses choques inflacion√°rios ao longo das duas d√©cadas.
                    </p>
                </div>

                <div id="viz-scatter-plot" class="viz-canvas"></div>
            </div>
        </div>
    </section>

    <!-- Conclusions Section -->
    <section id="conclusions" class="section section-alt">
        <div class="container">
            <h2>Conclus√µes</h2>
            <p>
                A infla√ß√£o n√£o √© apenas um indicador econ√≥mico abstrato, mas um fen√≥meno 
                que influencia sal√°rios, rendas e desigualdades sociais em Portugal.
            </p>
            
            <div class="key-findings">
                <h3>Principais Descobertas</h3>
                <ul>
                    <li>A infla√ß√£o afetou de forma desigual diferentes categorias de bens e servi√ßos</li>
                    <li>O poder de compra das fam√≠lias foi impactado pela evolu√ß√£o dos sal√°rios</li>
                    <li>Comparativamente √† UE, Portugal apresenta caracter√≠sticas espec√≠ficas</li>
                    <li>O impacto social da infla√ß√£o √© vis√≠vel na distribui√ß√£o de rendimento</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>
                Desenvolvido por <strong>√Çngela Ribeiro</strong> (109061) e 
                <strong>Hugo Castro</strong> (113889)
            </p>
            <p>
                Universidade de Aveiro - DETI<br>
                Information Visualisation 2025/2026
            </p>
        </div>
    </footer>

    <!-- JavaScript (ES6 Modules) -->
    <script type="module" src="src/main.js"></script>
</body>
</html>
